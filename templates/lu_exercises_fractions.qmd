---
title: "LU Decomposition Exercise (Standard + Pivoted)"
author: "Rudy — Schaum’s Mastery Project"
format: 
  pdf:
    code-fold: true
    code-tools: true
---

# Matrix Notebook
This notebook contains matrices for exercises drawn from **Schaum's Matrix Operations** (and other Schaum volumes).

All computations use the functions defined in: functions/matrix_tools.R and functions/matrix_tools_b.R contain the necessary functions for this chapter.

| Goal                   | Function                 | Typical Call                     |
| ---------------------- | ------------------------ | -------------------------------- |
| Get QR (best)          | `qr_householder()`       | `QR <- qr_householder(A)`        |
| Get QR (general)       | `qr_decomposition()`     | `QR <- qr_decomposition(A)`      |
| Classical GS           | `gram_schmidt_cgs()`     | `GS <- gram_schmidt_cgs(A)`      |
| Modified GS            | `gram_schmidt_mgs()`     | `GS <- gram_schmidt_mgs(A)`      |
| Eigenvalues (basic QR) | `qr_algorithm()`         | `eig <- qr_algorithm(A)`         |
| Eigenvalues (fast)     | `qr_algorithm_shifted()` | `eig <- qr_algorithm_shifted(A)` |
| Clean print            | `print_matrix_clean()`   | `print_matrix_clean(A)`          |
| Zero-out tiny numbers  | `round_small()`          | `round_small(A)`                 |


```{r}
knitr::opts_knit$set(root.dir = "C:/Users/rodol/OneDrive/Documents/Schaums-mastery/matrices_R", echo = TRUE, warning = FALSE, message = TRUE)
```

```{r}
source("functions/matrix_tools.R")
source("functions/matrix_tools_b.R")
library(pander)
```

```{r}
panderOptions('table.split.table', Inf)   # Avoid splitting tables across pages
panderOptions('table.style', 'multiline') # Enable multiline cell text wrapping
panderOptions('table.alignment.default', 'center') # Align text to the center
panderOptions('table.alignment.rownames', 'left') # Align row names (first column) to the left
panderOptions('table.emphasize.rownames', FALSE)  # Remove the ** from row names
panderOptions("round", 6)
```

## 1. Problem statement
#### 20.2 Construct a QR decomposition for the matrix


```{r}
# 3. Define the matrix
A <- matrix(c(-4,2,2,
              3,-3,3,
              6,6,0),
            nrow = 3, byrow = TRUE)
```

```{r}
# 4. Doolittle Decomposition (Non-Pivoted)
DL <- doolittle_decomposition(A)

cat("\nDoolittle — L:\n"); pander_clean(DL$L)
cat("\nDoolittle — U:\n"); pander_clean(DL$U)

cat("\nCheck L %% U = A:\n")
pander_clean(DL$L %% DL$U)
```

```{r}
# 5. Crout Decomposition (Non-Pivoted)
CR <- crout_decomposition(A)

cat("\nCrout — L:\n"); pander_clean(CR$L)
cat("\nCrout — U:\n"); pander_clean(CR$U)

cat("\nCheck L %*% U = A:\n")
pander_clean(CR$L %*% CR$U)
```

```{r}
# 6. Doolittle Decomposition with Partial Pivoting

DLP <- doolittle_decomposition_pivoting(A)

P <- DLP$P
L <- DLP$L
U <- DLP$U

cat("\nPivoted Doolittle — P:\n"); pander_clean(P)
cat("\nL:\n"); pander_clean(L)
cat("\nU:\n"); pander_clean(U)

cat("\nCheck P %*% A = L %*% U:\n")
pander_clean(P %*% A)
pander_clean(L %*% U)

```

```{r}
# 7. Crout Decomposition with Partial Pivoting
CRP <- crout_decomposition_pivoting(A)

P <- CRP$P
L <- CRP$L
U <- CRP$U

cat("\nPivoted Crout — P:\n"); pander_clean(P)
cat("\nL:\n"); pander_clean(L)
cat("\nU:\n"); pander_clean(U)

cat("\nCheck P %*% A = L %*% U:\n")
pander_clean(P %*% A)
pander_clean(L %*% U)

```

```{r}
#8. Solve Ax = b using LU
b <- c(

# enter the components of b

)

x <- solve_lu(A, b)

cat("\nSolution x:\n")
pander_clean(x)

cat("\nCheck A %*% x:\n")
pander_clean(A %*% x)

```

```{r}

```


